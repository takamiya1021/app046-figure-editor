# 要件定義書：3Dリアルフィギュア化アプリ

## 1. プロジェクト概要

| 項目 | 内容 |
|------|------|
| アプリ番号 | 046 |
| アプリ名 | 3Dリアルフィギュア化アプリ |
| 概要 | 2D画像をリアルなフィギュア風の画像に変換するアプリ |
| ターゲット | 自分のキャラやイラストをフィギュア風に楽しみたいユーザー |

## 2. 機能要件

### 2.1 コア機能

#### 画像アップロード機能
- ユーザーが任意の2D画像をアップロードできる
- 対応形式：PNG, JPG, JPEG, WebP
- ドラッグ&ドロップ対応
- ファイル選択ダイアログ対応
- プレビュー表示

#### フィギュア化変換機能
- Gemini API（gemini-2.5-flash-image）を使用
- 2D画像をリアルフィギュア風の画像に変換
- 入力素材：イラスト、写真、物体など何でも対応
- 出力スタイル：実際のフィギュア製品のような質感・素材感

#### 保存・ダウンロード機能
- 生成した画像をPNG形式でダウンロード
- ファイル名：`figure_{timestamp}.png`

### 2.2 設定機能

#### APIキー設定
- Gemini APIキーの入力・保存・削除UI
- ローカルストレージに保存
- セキュアな入力フィールド（パスワード形式）

## 3. 非機能要件

### 3.1 PWA対応
- オフライン対応（静的アセット）
- インストール可能
- Service Worker強制更新機能

### 3.2 レスポンシブデザイン
- モバイル・タブレット・デスクトップ対応
- タッチ操作対応

### 3.3 パフォーマンス
- 画像アップロード時のリサイズ処理（必要に応じて）
- ローディング表示

## 4. UI/UX要件

### 4.1 画面構成

#### メイン画面
- 画像アップロードエリア（中央）
- 変換ボタン
- 結果表示エリア
- ダウンロードボタン
- 設定ボタン（ヘッダー）

#### 設定モーダル
- APIキー入力フィールド
- 保存/削除ボタン
- 閉じるボタン

### 4.2 デザインコンセプト
- クリーンでモダンなUI
- フィギュア・コレクションを想起させるデザイン
- ダークモード対応（オプション）

## 5. 技術制約

### 5.1 使用技術
- フレームワーク：React + TypeScript
- ビルドツール：Vite
- スタイリング：Tailwind CSS
- PWA：vite-plugin-pwa
- AI API：Gemini API（gemini-2.5-flash-image）

### 5.2 API制約
- Gemini APIのレート制限を考慮
- エラーハンドリング（429エラー等）

## 6. 成功基準

- [ ] 2D画像をアップロードできる
- [ ] フィギュア風の画像が生成される
- [ ] 生成画像をダウンロードできる
- [ ] APIキーを設定・管理できる
- [ ] PWAとしてインストールできる
- [ ] モバイルで快適に操作できる
