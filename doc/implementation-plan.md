# 実装計画書（TDD準拠版）：3Dリアルフィギュア化アプリ

## Phase 0: プロジェクトセットアップ

- [ ] Vite + React + TypeScriptプロジェクト作成
- [ ] Tailwind CSS設定
- [ ] ESLint設定
- [ ] vite-plugin-pwa設定（skipWaiting, clientsClaim, cleanupOutdatedCaches）
- [ ] PWAアイコン作成・配置
- [ ] 基本ディレクトリ構造作成

## Phase 1: ユーティリティ実装

### 1.1 ストレージユーティリティ
- [ ] storage.ts作成
- [ ] APIキー保存機能実装
- [ ] APIキー取得機能実装
- [ ] APIキー削除機能実装

### 1.2 画像ユーティリティ
- [ ] imageUtils.ts作成
- [ ] ファイルをBase64に変換する機能実装
- [ ] Base64をBlobに変換する機能実装
- [ ] 画像ダウンロード機能実装

## Phase 2: Gemini API連携

- [ ] useGeminiApi.tsフック作成
- [ ] API呼び出し関数実装
- [ ] フィギュア化プロンプト実装
- [ ] レスポンス処理実装
- [ ] エラーハンドリング実装

## Phase 3: UIコンポーネント実装

### 3.1 ヘッダー
- [ ] Header.tsx作成
- [ ] タイトル表示
- [ ] 設定ボタン配置

### 3.2 APIキー設定モーダル
- [ ] ApiKeyModal.tsx作成
- [ ] モーダル開閉制御
- [ ] APIキー入力フォーム
- [ ] 保存・削除ボタン
- [ ] 保存成功/エラー表示

### 3.3 画像アップローダー
- [ ] ImageUploader.tsx作成
- [ ] ドロップゾーン実装
- [ ] ファイル選択ダイアログ
- [ ] プレビュー表示
- [ ] 変換ボタン

### 3.4 結果表示
- [ ] FigureResult.tsx作成
- [ ] 生成画像表示
- [ ] ダウンロードボタン
- [ ] ローディング表示

## Phase 4: メイン画面統合

- [ ] App.tsx実装
- [ ] 状態管理統合
- [ ] コンポーネント配置
- [ ] エラー表示統合
- [ ] レスポンシブ対応確認

## Phase 5: PWA・最終調整

- [ ] manifest.json設定
- [ ] Service Worker動作確認
- [ ] インストール動作確認
- [ ] ビルド・動作確認
- [ ] 最終テスト

## 完了条件

- [ ] 2D画像をアップロードできる
- [ ] フィギュア風の画像が生成される
- [ ] 生成画像をダウンロードできる
- [ ] APIキーを設定・管理できる
- [ ] PWAとしてインストールできる
- [ ] モバイルで快適に操作できる
